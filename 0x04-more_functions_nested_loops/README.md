about nested loops and functions